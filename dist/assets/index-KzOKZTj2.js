import{u as f,r as a,j as e}from"./index-DRYYJggy.js";import{u as j}from"./user-CTfc_bTd.js";import{m as y}from"./mock-rGEZ3HGA.js";import{T as S}from"./index-CBuGrdmH.js";import{F as s,I as l,B as c,s as t}from"./index-DQU_F6Fm.js";import{R as b}from"./UserOutlined-DXHUo8GP.js";import{R as C}from"./LockOutlined-DlJfXaV9.js";import{C as k}from"./index-BBcq28iL.js";import"./CloseOutlined-BqKTODZs.js";import"./index-Bj386uoF.js";import"./EllipsisOutlined-BVGyxfd1.js";import"./PlusOutlined-CDU51U6T.js";const P=()=>{const i=f(),{setUser:d,setToken:p}=j(),[m,o]=a.useState(!1),[x,h]=a.useState("password"),g=async n=>{o(!0);try{const r=await y.login(n.username,n.password);d(r.user),p(r.token),t.success("登录成功"),i("/dashboard")}catch(r){t.error(r instanceof Error?r.message:"登录失败")}finally{o(!1)}},u=()=>{t.info("SSO登录功能开发中")};return e.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:e.jsxs("div",{style:{width:"400px",background:"#FFFFFF",borderRadius:"8px",padding:"40px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[e.jsx("h2",{style:{fontSize:"24px",fontWeight:600,color:"#262626",marginBottom:"8px"},children:"欢迎回来"}),e.jsx("p",{style:{fontSize:"14px",color:"#8C8C8C"},children:"月报管理系统"})]}),e.jsx(S,{activeKey:x,onChange:h,centered:!0,items:[{key:"password",label:"密码登录",children:e.jsxs(s,{onFinish:g,autoComplete:"off",children:[e.jsx(s.Item,{name:"username",rules:[{required:!0,message:"请输入用户名"}],children:e.jsx(l,{prefix:e.jsx(b,{}),placeholder:"请输入用户名",size:"large"})}),e.jsx(s.Item,{name:"password",rules:[{required:!0,message:"请输入密码"}],children:e.jsx(l.Password,{prefix:e.jsx(C,{}),placeholder:"请输入密码",size:"large"})}),e.jsx(s.Item,{children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx(s.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:e.jsx(k,{children:"记住我"})}),e.jsx("a",{style:{fontSize:"14px"},children:"忘记密码"})]})}),e.jsx(s.Item,{children:e.jsx(c,{type:"primary",htmlType:"submit",loading:m,block:!0,size:"large",children:"登录"})})]})},{key:"sso",label:"SSO登录",children:e.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:e.jsx(c,{type:"primary",size:"large",onClick:u,block:!0,children:"SSO登录"})})}]}),e.jsx("div",{style:{textAlign:"center",marginTop:"24px"},children:e.jsxs("span",{style:{fontSize:"14px",color:"#8C8C8C"},children:["还没有账号？",e.jsx("a",{onClick:()=>i("/register"),style:{marginLeft:"4px"},children:"前往注册"})]})})]})})};export{P as default};
